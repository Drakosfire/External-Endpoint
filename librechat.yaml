version: 1.0.8

endpoints:
  custom:
    - name: 'llamacpp'
      baseURL: "http://host.docker.internal:8001/"
      apiKey: 'not-needed'
      models:
        default: ['BitAgent-8B.Q8_0.gguf', 'Llama-xLAM-2-8B-fc-r-Q8_0.gguf', 'watt-tool-8B.Q8_0.gguf']
        fetch: false
      titleConvo: false
      titleModel: 'BitAgent-8B.Q8_0.gguf'   # Replace with your actual model name
      modelDisplayLabel: 'LlamaCPP'
      forcePrompt: true
      directEndpoint: true
      addParams:
        stream: false
      dropParams: ["stop", "user", "frequency_penalty", "presence_penalty"]
    
    - name: "ollama"
      apiKey: "ollama"
      baseURL: "http://172.17.0.1:11434/v1/chat/completions"
      models:
        default: ["xLAM-2-8B", "bitagent", phi4-mini]
        fetch: true
      titleConvo: true
      titleModel: "current_model"
      summarize: false
      summaryModel: "current_model"
      forcePrompt: false
      modelDisplayLabel: "Ollama"
      directEndpoint: true
      addParams:
        stream: true
        stop: [
          "<|start_header_id|>",
          "<|end_header_id|>",
          "<|eot_id|>",
          "<|reserved_special_token"
        ]
      tools: true  # Enable tools support
      tool_choice: "auto"  # Allow the model to choose tools automatically
      dropParams: ["tools", "tool_choice"]
speech:
  stt:
    openai:
      apiKey: '${STT_API_KEY}'
      model: 'whisper-1'
  tts:
    localai:
      url: "http://host.docker.internal:8002/v1/audio/speech/stream"
      voices: ["test_voice", "Karlach_v1", "Gale_v1", "Astarion_v1", "Kirkv1"]
      backend: 'zonos'
      apiKey: ''  # Zonos API doesn't require authentication
  speechTab:
    conversationMode: true
    advancedMode: false
    speechToText:
      engineSTT: "openai"
      languageSTT: "English (US)"
      autoTranscribeAudio: true
      decibelValue: -45
      autoSendText: 0

mcpServers:
  memory:
    type: stdio
    command: node
    args:
      - "/app/mcp-servers/memory/src/memory/dist/index.js"
    timeout: 30000
    initTimeout: 10000
    env:
        # NODE_ENV: "production"
        MEMORY_FILE_PATH: "/app/data/memory.json"
    stderr: inherit

  todoodles:
    type: stdio
    command: node
    args:
      - "/app/mcp-servers/todoodles/dist/index.js"
    timeout: 30000
    initTimeout: 10000
    env:
        # NODE_ENV: "production"
        TODOS_FILE_PATH: "/app/data/todoodles.json"
    stderr: inherit
